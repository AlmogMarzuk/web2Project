{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\benfainshtein\\\\Desktop\\\\web2Project\\\\front\\\\src\\\\components\\\\Auth\\\\AuthForm.js\",\n  _s = $RefreshSig$();\nimport { useState, useRef } from 'react';\nimport { unstable_renderSubtreeIntoContainer } from 'react-dom';\nimport classes from './AuthForm.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthForm = props => {\n  _s();\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n  const [error, setError] = useState(\"\");\n  const [logintest, setLogin] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(\"false\");\n  const [isLoading, setIsLoading] = useState(false);\n  if (logintest == \"true\") {\n    console.log(\"test\");\n  }\n  const submitHandler = event => {\n    event.preventDefault();\n    const enteredEmail = emailInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n\n    // optional add validation \n\n    setIsLoading(true);\n    let url;\n    url = 'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC0Xs5gm4eJ2D3G5ia43sC-j7IQTYtj-pQ';\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: enteredEmail,\n        password: enteredPassword,\n        returnSecureToken: true\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      setIsLoading(false);\n      if (res.ok) {\n        return res.json();\n      } else {\n        return res.json().then(data => {\n          let errorMessage = 'Auth failed';\n          throw new Error(errorMessage);\n        });\n      }\n    }).then(data => {\n      setError(\"hello \" + enteredEmail + \" your details are correct\");\n      setLogin(\"true\");\n    }).catch(err => {\n      setError(\"Email And Password Are Not Match\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: classes.auth,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: isLogin ? 'Login' : 'Sign Up'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.control,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Your Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        required: true,\n        ref: emailInputRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.control,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Your Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        required: true,\n        ref: passwordInputRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.actions,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submitHandler,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 10\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" Loading ... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: classes.toggle,\n        children: isLogin ? 'Create new account' : 'Login with existing account'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthForm, \"V1dQs+ISKMBs4chIlpbCZ0jcMJM=\");\n_c = AuthForm;\nexport default AuthForm;\nvar _c;\n$RefreshReg$(_c, \"AuthForm\");","map":{"version":3,"names":["useState","useRef","unstable_renderSubtreeIntoContainer","classes","AuthForm","props","emailInputRef","passwordInputRef","error","setError","logintest","setLogin","isLogin","setIsLogin","isLoading","setIsLoading","console","log","submitHandler","event","preventDefault","enteredEmail","current","value","enteredPassword","url","fetch","method","body","JSON","stringify","email","password","returnSecureToken","headers","then","res","ok","json","data","errorMessage","Error","catch","err","auth","control","actions","toggle"],"sources":["C:/Users/benfainshtein/Desktop/web2Project/front/src/components/Auth/AuthForm.js"],"sourcesContent":["import { useState , useRef } from 'react';\nimport { unstable_renderSubtreeIntoContainer } from 'react-dom';\n\nimport classes from './AuthForm.module.css';\n\nconst AuthForm = (props) => {\n  \n  const emailInputRef = useRef();\n  const passwordInputRef = useRef(); \n  const [error,setError] = useState(\"\");\n  const [logintest,setLogin] = useState(\"\")\n  const [isLogin, setIsLogin] = useState(\"false\");\n  const [isLoading, setIsLoading] = useState(false);\n\n \nif(logintest==\"true\"){\n  console.log(\"test\");\n}\n\nconst submitHandler = (event) =>{\n  event.preventDefault();\n\nconst enteredEmail = emailInputRef.current.value;\nconst enteredPassword = passwordInputRef.current.value;\n\n// optional add validation \n\nsetIsLoading(true);\n\nlet url ; \n\n\n\nurl = 'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC0Xs5gm4eJ2D3G5ia43sC-j7IQTYtj-pQ';\n\n\nfetch (url ,\n  {\n    method: 'POST',\n    body: JSON.stringify({\n        email: enteredEmail,\n        password: enteredPassword,\n        returnSecureToken: true\n    }),\n    headers:{\n      'Content-Type': 'application/json'\n    }\n  }).then ( res => {\n    setIsLoading(false);\n    if(res.ok) {\n     return res.json();\n    }else{\n      return res.json ().then((data) => {\n       let errorMessage = 'Auth failed';\n    \n       throw new Error( errorMessage);\n      });\n    }\n  }).then( (data) => {\n    setError(\"hello \"+enteredEmail+\" your details are correct\");\n    \n    setLogin(\"true\");\n    \n  }).catch (err => {\n    setError(\"Email And Password Are Not Match\")\n\n  });\n}\n\n  return (\n    <section className={classes.auth}>\n      <h1>{isLogin ? 'Login' : 'Sign Up'}</h1>\n      \n        <div className={classes.control}>\n          <label htmlFor='email'>Your Email</label>\n          <input type='email' id='email' required ref = {emailInputRef}/>\n        </div>\n        <div className={classes.control}>\n          <label htmlFor='password'>Your Password</label>\n          <input type='password' id='password' required ref = {passwordInputRef} />\n        </div>\n        <div className={classes.actions}>\n         <button \n         onClick={submitHandler}\n         >Login</button>\n          {\n            isLoading && <p> Loading ... </p>\n          }\n          <button\n            type='button'\n            className={classes.toggle}\n           \n          >\n            {isLogin ? 'Create new account' : 'Login with existing account'}\n          </button>\n        </div>\n     <h1>{error}</h1>\n    </section>\n  );\n};\n\nexport default AuthForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}