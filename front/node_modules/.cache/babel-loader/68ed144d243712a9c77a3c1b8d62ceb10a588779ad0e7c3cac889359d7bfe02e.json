{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\benfainshtein\\\\Desktop\\\\web2Project\\\\front\\\\src\\\\components\\\\Layout\\\\Layout.js\",\n  _s = $RefreshSig$();\nimport { Fragment } from 'react';\nimport { useState, useRef } from 'react';\nimport MainNavigation from './MainNavigation';\nimport classes from './AuthForm.module.css';\nimport Register from '../Register/Register';\nimport List from '../FlightsList/List';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Layout = props => {\n  _s();\n  const login = () => {\n    setformStatus(\"3\");\n  };\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n  const [error, setError] = useState(\"\");\n  const [logintest, setLogin] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(\"false\");\n  const [isLoading, setIsLoading] = useState(false);\n  const submitHandler = event => {\n    event.preventDefault();\n    const enteredEmail = emailInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n\n    // optional add validation \n\n    setIsLoading(true);\n    let url;\n    url = 'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC0Xs5gm4eJ2D3G5ia43sC-j7IQTYtj-pQ';\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: enteredEmail,\n        password: enteredPassword,\n        returnSecureToken: true\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      setIsLoading(false);\n      if (res.ok) {\n        return res.json();\n      } else {\n        return res.json().then(data => {\n          let errorMessage = 'Auth failed';\n          throw new Error(errorMessage);\n        });\n      }\n    }).then(data => {\n      setError(\"hello \" + enteredEmail + \" your details are correct\");\n      login();\n    }).catch(err => {\n      setError(\"Email And Password Are Not Match\");\n    });\n  };\n  const [formStatus, setformStatus] = useState(\"1\");\n  if (formStatus == \"1\") {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => setformStatus(\"1\"),\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => setformStatus(\"2\"),\n            children: \"Sing-Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: props.children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: classes.auth,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: isLogin ? 'Login' : 'Sign Up'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Your Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            required: true,\n            ref: emailInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.control,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Your Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            required: true,\n            ref: passwordInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.actions,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: submitHandler,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 10\n          }, this), isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \" Loading ... \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: classes.toggle,\n            children: isLogin ? 'Create new account' : 'Login with existing account'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this);\n  } else if (formStatus == \"2\") {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => setformStatus(\"1\"),\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => setformStatus(\"2\"),\n            children: \"Sing-Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: props.children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 5\n      }, this), \";\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }, this);\n  } else if (formStatus == \"3\") {\n    return /*#__PURE__*/_jsxDEV(List, {\n      children: \"you signed in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }, this);\n  }\n};\n_s(Layout, \"Ypx6jYzaQPYqHYxLkp07k9scq3c=\");\n_c = Layout;\nexport default Layout;\nvar _c;\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"names":["Fragment","useState","useRef","MainNavigation","classes","Register","List","Layout","props","login","setformStatus","emailInputRef","passwordInputRef","error","setError","logintest","setLogin","isLogin","setIsLogin","isLoading","setIsLoading","submitHandler","event","preventDefault","enteredEmail","current","value","enteredPassword","url","fetch","method","body","JSON","stringify","email","password","returnSecureToken","headers","then","res","ok","json","data","errorMessage","Error","catch","err","formStatus","children","auth","control","actions","toggle"],"sources":["C:/Users/benfainshtein/Desktop/web2Project/front/src/components/Layout/Layout.js"],"sourcesContent":["import { Fragment } from 'react';\nimport { useState , useRef } from 'react';\nimport MainNavigation from './MainNavigation';\nimport classes from './AuthForm.module.css';\nimport Register from '../Register/Register'\nimport List from '../FlightsList/List';\nconst Layout = (props) => {\n\nconst login =  ()=>{\nsetformStatus(\"3\");\n\n};\n \nconst emailInputRef = useRef();\nconst passwordInputRef = useRef(); \nconst [error,setError] = useState(\"\");\nconst [logintest,setLogin] = useState(\"\")\nconst [isLogin, setIsLogin] = useState(\"false\");\nconst [isLoading, setIsLoading] = useState(false);\n\n\n\n\nconst submitHandler = (event) =>{\nevent.preventDefault();\n\nconst enteredEmail = emailInputRef.current.value;\nconst enteredPassword = passwordInputRef.current.value;\n\n// optional add validation \n\nsetIsLoading(true);\n\nlet url ; \n\n\n\nurl = 'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC0Xs5gm4eJ2D3G5ia43sC-j7IQTYtj-pQ';\n\n\nfetch (url ,\n{\n  method: 'POST',\n  body: JSON.stringify({\n      email: enteredEmail,\n      password: enteredPassword,\n      returnSecureToken: true\n  }),\n  headers:{\n    'Content-Type': 'application/json'\n  }\n}).then ( res => {\n  setIsLoading(false);\n  if(res.ok) {\n   return res.json();\n  }else{\n    return res.json ().then((data) => {\n     let errorMessage = 'Auth failed';\n  \n     throw new Error( errorMessage);\n    });\n  }\n}).then( (data) => {\n  setError(\"hello \"+enteredEmail+\" your details are correct\");\nlogin();\n  \n}).catch (err => {\n  setError(\"Email And Password Are Not Match\")\n\n});\n}  \n\n\n\n  const [formStatus, setformStatus] = useState(\"1\"); \n if(formStatus==\"1\"){\n  return (\n    <Fragment>\n      <nav>\n        <ul>\n          <li  onClick={()=>setformStatus(\"1\")}>\n            Login\n          </li>\n          <li onClick={()=>setformStatus(\"2\")}>\n            Sing-Up\n          </li>\n         \n        </ul>\n      </nav>\n    \n      <main>{props.children}</main>\n      <section className={classes.auth}>\n      <h1>{isLogin ? 'Login' : 'Sign Up'}</h1>\n      \n        <div className={classes.control}>\n          <label htmlFor='email'>Your Email</label>\n          <input type='email' id='email' required ref = {emailInputRef}/>\n        </div>\n        <div className={classes.control}>\n          <label htmlFor='password'>Your Password</label>\n          <input type='password' id='password' required ref = {passwordInputRef} />\n        </div>\n        <div className={classes.actions}>\n         <button \n         onClick={submitHandler}\n         >Login</button>\n          {\n            isLoading && <p> Loading ... </p>\n          }\n          <button\n            type='button'\n            className={classes.toggle}\n           \n          >\n            {isLogin ? 'Create new account' : 'Login with existing account'}\n          </button>\n        </div>\n     <h1>{error}</h1>\n    </section>\n    </Fragment>\n    \n  );\n } else if(formStatus==\"2\"){\n  return(\n\n    <Fragment>\n    <nav>\n      <ul>\n        <li onClick={()=>setformStatus(\"1\")}>\n          Login\n        </li>\n        <li onClick={()=>setformStatus(\"2\")}>\n          Sing-Up\n        </li>\n       \n      </ul>\n    </nav>\n  \n    <main>{props.children}</main>\n    <Register />;\n  </Fragment>\n  \n   )\n } else if(formStatus ==\"3\"){\n  return (<List>you signed in</List>)\n }\n \n};\n\nexport default Layout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}