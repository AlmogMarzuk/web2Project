{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\benfainshtein\\\\Desktop\\\\firebaseStartUpMM\\\\src\\\\components\\\\Register\\\\Register.js\",\n  _s = $RefreshSig$();\nimport { useState, useRef } from 'react';\nimport classes from './Register.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n  const [error, setError] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const switchAuthModeHandler = () => {\n    setIsLogin(prevState => !prevState);\n  };\n  const checkBeforeSubmit = Event => {\n    const enteredPassword = passwordInputRef.current.value;\n    var valid = true;\n    console.log(enteredPassword.length);\n    if (enteredPassword == \"\") {\n      setError(\"Fill the password please!\");\n      valid = false;\n    } else if (enteredPassword.length < 8) {\n      setError(\"Password must be with more then 8 characters\");\n      valid = false;\n    }\n  };\n  const submitHandler = event => {\n    event.preventDefault();\n    const enteredEmail = emailInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n\n    // optional add validation \n\n    setIsLoading(true);\n    let url;\n    url = 'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyC0Xs5gm4eJ2D3G5ia43sC-j7IQTYtj-pQ';\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: enteredEmail,\n        password: enteredPassword,\n        returnSecureToken: true\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      setIsLoading(false);\n      if (res.ok) {\n        return res.json();\n      } else {\n        return res.json().then(data => {\n          let errorMessage = 'Auth failed';\n          throw new Error(errorMessage);\n        });\n      }\n    }).then(data => {}).catch(err => {});\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: classes.auth,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: isLogin ? 'Login' : 'Sign Up'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.control,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: \"Your Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        required: true,\n        ref: emailInputRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.control,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        children: \"Your Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        required: true,\n        ref: passwordInputRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.actions,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: checkBeforeSubmit,\n        children: \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" Loading ... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: classes.toggle,\n        onClick: switchAuthModeHandler,\n        children: isLogin ? 'Create new account' : 'Login with existing account'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"qACZHID7DWyqB9GTqM+IlMnPFgM=\");\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","useRef","classes","Register","emailInputRef","passwordInputRef","error","setError","isLogin","setIsLogin","isLoading","setIsLoading","switchAuthModeHandler","prevState","checkBeforeSubmit","Event","enteredPassword","current","value","valid","console","log","length","submitHandler","event","preventDefault","enteredEmail","url","fetch","method","body","JSON","stringify","email","password","returnSecureToken","headers","then","res","ok","json","data","errorMessage","Error","catch","err","auth","control","actions","toggle"],"sources":["C:/Users/benfainshtein/Desktop/firebaseStartUpMM/src/components/Register/Register.js"],"sourcesContent":["import { useState , useRef } from 'react';\r\n\r\nimport classes from './Register.module.css';\r\n\r\nconst Register = () => {\r\n \r\n  const emailInputRef = useRef();\r\n  const passwordInputRef = useRef(); \r\n   const [error, setError] = useState(\"\");\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const switchAuthModeHandler = () => {\r\n    setIsLogin((prevState) => !prevState);\r\n  };\r\n\r\nconst checkBeforeSubmit = (Event) =>{\r\n    const enteredPassword = passwordInputRef.current.value;\r\n   var valid = true;\r\n  console.log(enteredPassword.length);\r\n   if(enteredPassword == \"\"){\r\n    setError(\"Fill the password please!\")\r\n        valid = false;\r\n   }else  if (enteredPassword.length<8) {\r\n    setError(\"Password must be with more then 8 characters\")\r\n    valid = false;\r\n}\r\n \r\n};\r\n\r\n  const submitHandler = (event) =>{\r\n  event.preventDefault();\r\n\r\nconst enteredEmail = emailInputRef.current.value;\r\nconst enteredPassword = passwordInputRef.current.value;\r\n\r\n// optional add validation \r\n\r\nsetIsLoading(true);\r\n\r\nlet url ; \r\n\r\n\r\n\r\n\r\n\r\n  url =  'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyC0Xs5gm4eJ2D3G5ia43sC-j7IQTYtj-pQ' ; \r\n \r\n\r\nfetch (url ,\r\n  {\r\n    method: 'POST',\r\n    body: JSON.stringify({\r\n        email: enteredEmail,\r\n        password: enteredPassword,\r\n        returnSecureToken: true\r\n    }),\r\n    headers:{\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }).then ( res => {\r\n    setIsLoading(false);\r\n    if(res.ok) {\r\n     return res.json();\r\n    }else{\r\n      return res.json ().then((data) => {\r\n       let errorMessage = 'Auth failed';\r\n    \r\n       throw new Error( errorMessage);\r\n      });\r\n    }\r\n  }).then( (data) => {\r\n    \r\n  }).catch (err => {\r\n   \r\n  });\r\n}\r\n\r\n  return (\r\n    <section className={classes.auth}>\r\n      <h1>{isLogin ? 'Login' : 'Sign Up'}</h1>\r\n     \r\n        <div className={classes.control}>\r\n          <label htmlFor='email'>Your Email</label>\r\n          <input type='email' id='email' required ref = {emailInputRef}/>\r\n        </div>\r\n        <div className={classes.control}>\r\n          <label htmlFor='password'>Your Password</label>\r\n          <input type='password' id='password' required ref = {passwordInputRef} />\r\n        </div>\r\n        <div className={classes.actions}>\r\n          <button onClick={checkBeforeSubmit}>Create Account</button>\r\n          {\r\n            isLoading && <p> Loading ... </p>\r\n          }\r\n          <button\r\n            type='button'\r\n            className={classes.toggle}\r\n            onClick={switchAuthModeHandler}\r\n          >\r\n            {isLogin ? 'Create new account' : 'Login with existing account'}\r\n          </button>\r\n        </div>\r\n\r\n      <h1>{error}</h1>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}