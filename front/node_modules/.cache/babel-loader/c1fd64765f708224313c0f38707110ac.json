{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\benfainshtein\\\\Desktop\\\\web2Project\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\benfainshtein\\\\Desktop\\\\web2Project\\\\front\\\\src\\\\components\\\\CartItem\\\\CartItem.js\";\nimport React, { Component } from 'react';\nimport { useState, useRef, useEffect } from 'react';\nimport '../Flight/Flight.css';\nimport axios from 'axios';\nimport Api from '../Api/Api';\nvar CartItem = function CartItem(props) {\n  var _useState = useState(props.flight.totalPrice),\n    _useState2 = _slicedToArray(_useState, 2),\n    totalPrice = _useState2[0],\n    setTotalPrice = _useState2[1];\n  var _useState3 = useState(props.flight.sum),\n    _useState4 = _slicedToArray(_useState3, 2),\n    quantity = _useState4[0],\n    setQuantity = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    visible = _useState6[0],\n    setvisible = _useState6[1];\n  var plusButton = function plusButton() {\n    setTotalPrice(totalPrice + props.flight.price);\n    setQuantity(quantity + 1);\n    axios.post('http://localhost:8000/flight/addToCart', props.flight).then(function (response) {\n      if (response.data) {\n        console.log(response.data);\n      }\n    });\n  };\n  var minusButton = function minusButton() {\n    if (quantity == 1) {\n      setvisible(false);\n    } else {\n      setTotalPrice(totalPrice - props.flight.price);\n      setQuantity(quantity - 1);\n    }\n    axios.post('http://localhost:8000/flight/removeFromCart', props.flight).then(function (response) {\n      if (response.data) {\n        console.log(response.data);\n      }\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: visible ? 'block' : 'none'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"letter\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, \"Location: \", props.flight.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-title-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Mainland \", props.flight.category)), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"card-image\",\n    src: props.flight.image,\n    alt: \"Logo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-text\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"letter\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Price per one ticket: \", props.flight.price, \"$\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"letter\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 14\n    }\n  }, \"quantity: \", quantity)), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"letter\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Total-Price: \", totalPrice), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-like-bar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return plusButton();\n    },\n    id: \"PlusButton\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 10\n    }\n  }, \"+\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return minusButton();\n    },\n    id: \"MinusButton\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, \"-\")))));\n};\nexport default CartItem;","map":{"version":3,"names":["React","Component","useState","useRef","useEffect","axios","Api","CartItem","props","flight","totalPrice","setTotalPrice","sum","quantity","setQuantity","visible","setvisible","plusButton","price","post","then","response","data","console","log","minusButton","display","name","category","image"],"sources":["C:/Users/benfainshtein/Desktop/web2Project/front/src/components/CartItem/CartItem.js"],"sourcesContent":["import React, { Component }  from 'react';\r\nimport { useState , useRef ,useEffect} from 'react';\r\nimport '../Flight/Flight.css';\r\nimport axios from 'axios';\r\nimport Api from '../Api/Api';\r\nconst CartItem =(props)=>{\r\n  \r\n  const [totalPrice,setTotalPrice] = useState(props.flight.totalPrice)\r\n  const [quantity,setQuantity] = useState(props.flight.sum)\r\n  const [visible,setvisible] = useState(true);\r\n\r\n  const plusButton =()=>{\r\n    setTotalPrice(totalPrice+props.flight.price);\r\n    setQuantity(quantity+1);\r\n    axios.post('http://localhost:8000/flight/addToCart', props.flight)\r\n    .then(function (response) {\r\n     if(response.data){\r\n      console.log(response.data)\r\n     }\r\n     })\r\n  }\r\n\r\n  const minusButton =()=>{\r\n  \r\n    if(quantity==1){\r\n      setvisible(false);\r\n    }else{\r\n      setTotalPrice(totalPrice-props.flight.price);\r\n      setQuantity(quantity-1);\r\n    }\r\n    axios.post('http://localhost:8000/flight/removeFromCart', props.flight)\r\n    .then(function (response) {\r\n     if(response.data){\r\n      console.log(response.data)\r\n     }\r\n     })\r\n \r\n   \r\n    } \r\n    return(\r\n      <div  style={{\r\n        display: visible ? 'block' : 'none'\r\n      }}>\r\n        <div className=\"card\">\r\n        <div className=\"card-header\">\r\n            <span className=\"letter\">Location: {props.flight.name}</span>\r\n        </div>\r\n        <div className=\"card-title-group\">\r\n            <h5 className=\"card-title\">Mainland {props.flight.category}</h5>\r\n          </div>\r\n        <img className=\"card-image\" src={props.flight.image}  alt=\"Logo\" />\r\n        <div className=\"card-text\">\r\n        <span className=\"letter\">Price per one ticket: {props.flight.price}$</span>\r\n        \r\n        \r\n        </div>\r\n        <div><span className=\"letter\">quantity: {quantity}</span></div>\r\n        <span className=\"letter\">Total-Price: {totalPrice}</span>\r\n       \r\n        <div className=\"card-like-bar\">\r\n         <div>\r\n         <button onClick={()=> plusButton()} id=\"PlusButton\" >+</button>\r\n              <button onClick={()=>minusButton()} id='MinusButton'>-</button>\r\n         </div>\r\n        </div>\r\n       \r\n      </div>\r\n      </div>\r\n    )\r\n\r\n}\r\n\r\nexport default CartItem;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}